{% if type == 'error' %}
  {% set message_classes = 'message message--error' %}
{% elseif type == 'warning' %}
  {% set message_classes = 'message message--warning' %}
{% else %}
  {% set message_classes = 'message message--status' %}
{% endif %}

<div class="{{ message_classes }}"{% if type == 'error' %} role="alert" {% else %} role="contentinfo" {% endif %} {% if heading %}aria-label="{{ heading }}"{% endif %}>
  <div class="message__content">
    <h2 class="visually-hidden">{{ heading }}</h2>
    {% if messages|length > 1 %}
      <ul class="message__list">
        {% for message in messages %}
          <li class="message__item">{{- message -}}</li>
        {% endfor %}
      </ul>
    {% else %}
      {{- messages|first -}}
    {% endif %}
  </div>
</div>
